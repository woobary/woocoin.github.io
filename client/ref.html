<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Реферальная система</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
<div class="container text-center mt-5">
    <img src="../images/woobary-transformed.png" width="184" height="184" alt=""/>
    <h1 class="text-purple mb-4">Реферальная система</h1>

    <!-- Отображение реферальной ссылки -->
    <div class="info-box mb-4">
        <p>Ваша реферальная ссылка:</p>
        <p><a id="referralLink" href="#" class="text-blue">https://woobary.github.io/?ref=USER_CODE</a></p>
    </div>

    <!-- Кнопка "Поделиться" -->
    <button class="btn btn-primary" id="shareButton">Поделиться ссылкой</button>

    <!-- Кнопка для возвращения на главную сцену -->
    <button class="btn btn-light mt-4" onclick="goToScene('index.html')">Вернуться</button>
</div>

<script>
    // Замена USER_CODE на фактический реферальный код
    const referralCode = localStorage.getItem('referralCode') || 'USER_12345';
    document.getElementById('referralLink').href = `https://woobary.github.io/?ref=${referralCode}`;
    document.getElementById('referralLink').innerText = `https://woobary.github.io/?ref=${referralCode}`;

    // Обработка нажатия на кнопку "Поделиться"
    document.getElementById('shareButton').addEventListener('click', () => {
        const shareData = {
            title: 'Присоединяйтесь к WooCoinApp!',
            text: 'Получите бонусы, используя мою реферальную ссылку:',
            url: `https://woobary.github.io/?ref=${referralCode}`
        };

        if (navigator.share) {
            navigator.share(shareData)
                .then(() => console.log('Успешно поделились!'))
                .catch((error) => console.error('Ошибка при отправке:', error));
        } else {
            alert('Функция "Поделиться" не поддерживается вашим браузером.');
        }
    });
</script>
<script src="common.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
